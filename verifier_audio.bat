@echo off
chcp 65001 >nul
echo.
echo ??????????????????????????????????????????????????????????????????
echo ?                                                                ?
echo ?         ?? DÉMINEUR HD - Vérification Audio ??                 ?
echo ?                                                                ?
echo ??????????????????????????????????????????????????????????????????
echo.
echo Vérification de l'installation audio...
echo.

:: Vérifier si le dossier sounds existe
if not exist "sounds\" (
    echo ? Le dossier "sounds" n'existe pas !
    echo.
    echo Création du dossier sounds...
    mkdir sounds
    echo ? Dossier créé !
    echo.
)

:: Vérifier les fichiers audio
echo Fichiers audio détectés :
echo ?????????????????????????????????????????????
if exist "sounds\menu.mp3" (
    echo ? sounds\menu.mp3 [Menu principal]
) else if exist "sounds\menu.wav" (
    echo ? sounds\menu.wav [Menu principal]
) else (
    echo ? sounds\menu.mp3 ou menu.wav [MANQUANT]
)

if exist "sounds\game.mp3" (
    echo ? sounds\game.mp3 [Musique de jeu]
) else if exist "sounds\game.wav" (
    echo ? sounds\game.wav [Musique de jeu]
) else (
    echo ? sounds\game.mp3 ou game.wav [MANQUANT]
)

if exist "sounds\win.mp3" (
    echo ? sounds\win.mp3 [Musique de victoire]
) else if exist "sounds\win.wav" (
    echo ? sounds\win.wav [Musique de victoire]
) else (
    echo ? sounds\win.mp3 ou win.wav [MANQUANT]
)
echo ?????????????????????????????????????????????
echo.

:: Vérifier les effets sonores optionnels
echo Effets sonores optionnels :
echo ?????????????????????????????????????????????
set sfx_count=0
if exist "sounds\click.wav" (
    echo ? sounds\click.wav
    set /a sfx_count+=1
)
if exist "sounds\reveal.wav" (
    echo ? sounds\reveal.wav
    set /a sfx_count+=1
)
if exist "sounds\flag.wav" (
    echo ? sounds\flag.wav
    set /a sfx_count+=1
)
if exist "sounds\explosion.wav" (
    echo ? sounds\explosion.wav
    set /a sfx_count+=1
)
if exist "sounds\hint.wav" (
    echo ? sounds\hint.wav
    set /a sfx_count+=1
)
if exist "sounds\combo.wav" (
    echo ? sounds\combo.wav
    set /a sfx_count+=1
)

if %sfx_count%==0 (
    echo ??  Aucun effet sonore détecté [OPTIONNEL]
    echo    Le jeu utilisera les sons système Windows
) else (
    echo ? %sfx_count% effet(s) sonore(s) détecté(s)
)
echo ?????????????????????????????????????????????
echo.

:: Résumé
echo ????????????????????????????????????????????????????????????????
echo.
echo ?? RÉSUMÉ
echo.

:: Compter les fichiers essentiels
set music_count=0
if exist "sounds\menu.mp3" set /a music_count+=1
if exist "sounds\menu.wav" set /a music_count+=1
if exist "sounds\game.mp3" set /a music_count+=1
if exist "sounds\game.wav" set /a music_count+=1
if exist "sounds\win.mp3" set /a music_count+=1
if exist "sounds\win.wav" set /a music_count+=1

if %music_count% geq 3 (
    echo ? Installation audio COMPLÈTE !
    echo    Le jeu utilisera vos musiques personnalisées.
    echo.
    echo ?? Vous pouvez lancer le jeu !
    echo    Appuyez sur M dans le jeu pour contrôler l'audio.
) else (
    echo ??  Installation audio INCOMPLÈTE
    echo.
    echo ?? Pour installer les musiques :
    echo    1. Consultez INSTALLATION_MUSIQUE.md
    echo    2. Téléchargez les musiques de Kevin MacLeod
    echo    3. Placez-les dans le dossier sounds\
    echo.
    echo ?? Le jeu fonctionnera quand même avec les sons système !
)

echo.
echo ????????????????????????????????????????????????????????????????
echo.
echo ?? Liens utiles :
echo    • Kevin MacLeod : https://incompetech.com
echo    • Guide : INSTALLATION_MUSIQUE.md
echo    • README : README.md
echo.
pause
